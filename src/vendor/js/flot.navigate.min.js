
/* Flot.Navigate */
!function(a) {
    function c(b) {
        function c(a, c) {
            var d = b.offset();
            d.left = a.pageX - d.left,
            d.top = a.pageY - d.top,
            c ? b.zoomOut({
                center: d
            }) : b.zoom({
                center: d
            })
        }
        function d(a, b) {
            return a.preventDefault(),
            c(a, b < 0),
            !1
        }
        function i(a) {
            if (1 != a.which)
                return !1;
            var c = b.getPlaceholder().css("cursor");
            c && (e = c),
            b.getPlaceholder().css("cursor", b.getOptions().pan.cursor),
            f = a.pageX,
            g = a.pageY
        }
        function j(a) {
            var c = b.getOptions().pan.frameRate;
            !h && c && (h = setTimeout(function() {
                b.pan({
                    left: f - a.pageX,
                    top: g - a.pageY
                }),
                f = a.pageX,
                g = a.pageY,
                h = null
            }, 1 / c * 1e3))
        }
        function k(a) {
            h && (clearTimeout(h),
            h = null ),
            b.getPlaceholder().css("cursor", e),
            b.pan({
                left: f - a.pageX,
                top: g - a.pageY
            })
        }
        function l(a, b) {
            var e = a.getOptions();
            e.zoom.interactive && (b[e.zoom.trigger](c),
            b.mousewheel(d)),
            e.pan.interactive && (b.bind("dragstart", {
                distance: 10
            }, i),
            b.bind("drag", j),
            b.bind("dragend", k))
        }
        function m(a, b) {
            b.unbind(a.getOptions().zoom.trigger, c),
            b.unbind("mousewheel", d),
            b.unbind("dragstart", i),
            b.unbind("drag", j),
            b.unbind("dragend", k),
            h && clearTimeout(h)
        }
        var e = "default"
          , f = 0
          , g = 0
          , h = null ;
        b.zoomOut = function(a) {
            a || (a = {}),
            a.amount || (a.amount = b.getOptions().zoom.amount),
            a.amount = 1 / a.amount,
            b.zoom(a)
        }
        ,
        b.zoom = function(c) {
            c || (c = {});
            var d = c.center
              , e = c.amount || b.getOptions().zoom.amount
              , f = b.width()
              , g = b.height();
            d || (d = {
                left: f / 2,
                top: g / 2
            });
            var h = d.left / f
              , i = d.top / g
              , j = {
                x: {
                    min: d.left - h * f / e,
                    max: d.left + (1 - h) * f / e
                },
                y: {
                    min: d.top - i * g / e,
                    max: d.top + (1 - i) * g / e
                }
            };
            a.each(b.getAxes(), function(a, b) {
                var c = b.options
                  , d = j[b.direction].min
                  , f = j[b.direction].max
                  , g = c.zoomRange
                  , h = c.panRange;
                if (g !== !1) {
                    if (d = b.c2p(d),
                    f = b.c2p(f),
                    d > f) {
                        var i = d;
                        d = f,
                        f = i
                    }
                    h && (null != h[0] && d < h[0] && (d = h[0]),
                    null != h[1] && f > h[1] && (f = h[1]));
                    var k = f - d;
                    g && (null != g[0] && k < g[0] && e > 1 || null != g[1] && k > g[1] && e < 1) || (c.min = d,
                    c.max = f)
                }
            }),
            b.setupGrid(),
            b.draw(),
            c.preventEvent || b.getPlaceholder().trigger("plotzoom", [b, c])
        }
        ,
        b.pan = function(c) {
            var d = {
                x: +c.left,
                y: +c.top
            };
            isNaN(d.x) && (d.x = 0),
            isNaN(d.y) && (d.y = 0),
            a.each(b.getAxes(), function(a, b) {
                var e, f, c = b.options, g = d[b.direction];
                e = b.c2p(b.p2c(b.min) + g),
                f = b.c2p(b.p2c(b.max) + g);
                var h = c.panRange;
                h !== !1 && (h && (null != h[0] && h[0] > e && (g = h[0] - e,
                e += g,
                f += g),
                null != h[1] && h[1] < f && (g = h[1] - f,
                e += g,
                f += g)),
                c.min = e,
                c.max = f)
            }),
            b.setupGrid(),
            b.draw(),
            c.preventEvent || b.getPlaceholder().trigger("plotpan", [b, c])
        }
        ,
        b.hooks.bindEvents.push(l),
        b.hooks.shutdown.push(m)
    }
    var b = {
        xaxis: {
            zoomRange: null ,
            panRange: null
        },
        zoom: {
            interactive: !1,
            trigger: "dblclick",
            amount: 1.5
        },
        pan: {
            interactive: !1,
            cursor: "move",
            frameRate: 20
        }
    };
    a.plot.plugins.push({
        init: c,
        options: b,
        name: "navigate",
        version: "1.3"
    })
}(jQuery);